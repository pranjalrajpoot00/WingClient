<div class="content">
    <div class="users-header">
        <h2>Employees List</h2>
    </div>

    <div class="filters-container">
        <div class="search-box">
            <input type="text" 
                   placeholder="Search employees..." 
                   [(ngModel)]="filterOptions.search"
                   (input)="onSearch()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        </div>

        <div class="filters">
            <select [(ngModel)]="filterOptions.department" (change)="onFilterChange()">
                <option value="">All Departments</option>
                <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
            </select>

            <select [(ngModel)]="filterOptions.manager" (change)="onFilterChange()">
                <option value="">All Managers</option>
                <option *ngFor="let manager of managers" [value]="manager">{{manager}}</option>
            </select>
        </div>
    </div>

    <div class="users-table">
        <table>
            <thead>
                <tr>
                    <th (click)="onSort('name')" [class.sorted]="sortOptions.field === 'name'">
                        Employee Name
                        <span class="sort-icon" *ngIf="sortOptions.field === 'name'">
                            {{sortOptions.direction === 'asc' ? '↑' : '↓'}}
                        </span>
                    </th>
                    <th>Employee ID</th>
                    <th>Role</th>
                    <th>Reports To</th>
                    <th>Email</th>
                    <th>Department</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of filteredUsers">
                    <td>{{user.name}}</td>
                    <td>{{user.username}}</td>
                    <td>{{user.role}}</td>
                    <td>{{getManagerName(user.reportingMgr)}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.department}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
  