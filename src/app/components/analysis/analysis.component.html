<div class="analysis-container">
<div class="breadcrumb">
        <a (click)="navigateToDashboard()" style="cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="home-icon">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
    </svg>
            Home
        </a>
        <span>&gt;</span>
        <span>Project Analysis</span>
            </div>
            
    <div class="project-header" *ngIf="project">
        <h1>{{ project.name }}</h1>
        <div class="project-status">
            <span class="status-badge" [ngClass]="'status-' + project.status.toLowerCase()">
                {{ project.status }}
            </span>
            </div>
        </div>
        
    <div class="analysis-grid">
        <!-- Task Distribution Chart -->
        <div class="analysis-card">
            <h2>Task Distribution</h2>
        <div class="chart-container">
                <svg viewBox="0 0 300 300" class="pie-chart">
                    <path [attr.d]="pieChartPaths.notStarted" class="segment not-started" [attr.data-tooltip]="'Not Started: ' + taskStats.notStarted + ' tasks'"/>
                    <path [attr.d]="pieChartPaths.inProgress" class="segment in-progress" [attr.data-tooltip]="'In Progress: ' + taskStats.inProgress + ' tasks'"/>
                    <path [attr.d]="pieChartPaths.inTesting" class="segment in-testing" [attr.data-tooltip]="'In Testing: ' + taskStats.inTesting + ' tasks'"/>
                    <path [attr.d]="pieChartPaths.inReview" class="segment in-review" [attr.data-tooltip]="'In Review: ' + taskStats.inReview + ' tasks'"/>
                    <path [attr.d]="pieChartPaths.completed" class="segment completed" [attr.data-tooltip]="'Completed: ' + taskStats.completed + ' tasks'"/>
                    <path [attr.d]="pieChartPaths.overdue" class="segment overdue" [attr.data-tooltip]="'Overdue: ' + taskStats.overdue + ' tasks'"/>
                </svg>
                <div class="chart-legend">
                    <div class="legend-item" data-status="not-started">
                        <span class="legend-color not-started"></span>
                        <span>Not Started ({{ taskStats.notStarted }})</span>
                    </div>
                    <div class="legend-item" data-status="in-progress">
                        <span class="legend-color in-progress"></span>
                        <span>In Progress ({{ taskStats.inProgress }})</span>
                    </div>
                    <div class="legend-item" data-status="in-testing">
                        <span class="legend-color in-testing"></span>
                        <span>In Testing ({{ taskStats.inTesting }})</span>
                    </div>
                    <div class="legend-item" data-status="in-review">
                        <span class="legend-color in-review"></span>
                        <span>In Review ({{ taskStats.inReview }})</span>
                    </div>
                    <div class="legend-item" data-status="completed">
                        <span class="legend-color completed"></span>
                        <span>Completed ({{ taskStats.completed }})</span>
                    </div>
                    <div class="legend-item" data-status="overdue">
                        <span class="legend-color overdue"></span>
                        <span>Overdue ({{ taskStats.overdue }})</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Details -->
        <div class="analysis-card" *ngIf="project">
            <h2>Project Details</h2>
            <div class="details-grid">
                <div class="detail-item">
                    <label>Description:</label>
                    <p>{{ project.description }}</p>
                </div>
                <div class="detail-item">
                    <label>Start Date:</label>
                    <p>{{ project.startDate }}</p>
                </div>
                <div class="detail-item">
                    <label>End Date:</label>
                    <p>{{ project.endDate }}</p>
                </div>
                <div class="detail-item">
                    <label>Team Members:</label>
                    <ul>
                        <li *ngFor="let member of project.teamMembers">
                            {{ member.name }} ({{ member.role }})
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Task Statistics -->
        <div class="analysis-card">
            <h2>Task Statistics</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <h3>Total Tasks</h3>
                    <p class="stat-value">{{ totalTasks }}</p>
                </div>
                <div class="stat-item">
                    <h3>Completion Rate</h3>
                    <p class="stat-value">{{ (taskStats.completed / totalTasks * 100).toFixed(1) }}%</p>
                </div>
                <div class="stat-item">
                    <h3>Overdue Tasks</h3>
                    <p class="stat-value">{{ taskStats.overdue }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

